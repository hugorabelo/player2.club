AplicacaoLiga.controller("AuthController",["$scope","Auth",function(o,a){}]),AplicacaoLiga.controller("CampeonatoController",["$scope","$rootScope","$filter","Campeonato","$state","$modal",function(o,a,s,e,n,i){o.campeonato={},o.exibeDetalhes=!1,a.loading=!0,e.get().success(function(s){o.campeonatos=s,a.loading=!1}),o.create=function(){a.loading=!0,e.create().success(function(s){o.campeonatoTipos=s.campeonatoTipos,o.jogos=s.jogos,o.plataformas=s.plataformas,o.campeonato={},o.messages=null,$("#formModal").modal(),o.tituloModal="messages.campeonato_create",o.novoItem=!0,o.formulario.$setPristine(),a.loading=!1})},o.edit=function(s){a.loading=!0,e.edit(s).success(function(s){o.campeonato=s.campeonato,o.campeonatoTipos=s.campeonatoTipos,o.jogos=s.jogos,o.plataformas=s.plataformas,o.messages=null,$("#formModal").modal(),o.tituloModal="messages.campeonato_edit",o.novoItem=!1,o.formulario.$setPristine(),a.loading=!1})},o.submit=function(){o.novoItem?o.save():o.update()},o.save=function(){a.loading=!0,e.save(o.campeonato).success(function(s){e.get().success(function(a){o.campeonatos=a}),$("#formModal").modal("hide"),a.loading=!1}).error(function(s,e){o.messages=s.errors,o.status=e,a.loading=!1})},o.update=function(){a.loading=!0,e.update(o.campeonato).success(function(s){e.get().success(function(s){o.campeonatos=s,a.loading=!1}),$("#formModal").modal("hide"),a.loading=!1}).error(function(s,e){o.message=s.errors,o.status=e,a.loading=!1})},o["delete"]=function(a){$("#confirmaModal").modal(),o.mensagemModal="messages.confirma_exclusao",o.idRegistro=a},o.confirmacaoModal=function(s){a.loading=!0,e.destroy(s).success(function(s){e.get().success(function(s){o.campeonatos=s,a.loading=!1}),$("#confirmaModal").modal("hide"),a.loading=!1})},o.detalhes=function(a){o.exibeDetalhes=!0,o.idCampeonatoAtual=a,o.carregaAdministradores(a),o.carregaUsuarios(a),o.carregaFases(a),o.tab="pontuacao"},o.fechaDetalhes=function(){o.exibeDetalhes=!1},o.salvaAdministrador=function(){a.loading=!0,e.adicionaAdministrador(o.idCampeonatoAtual,o.novoAdministrador).success(function(s){o.carregaAdministradores(o.idCampeonatoAtual),o.carregaUsuarios(o.idCampeonatoAtual),a.loading=!1}).error(function(s,e){o.message=s.errors,o.status=e,a.loading=!1})},o.excluiAdministrador=function(s){a.loading=!0,e.excluiAdministrador(s).success(function(s){o.carregaAdministradores(o.idCampeonatoAtual),o.carregaUsuarios(o.idCampeonatoAtual),a.loading=!1}).error(function(s,e){o.message=s.errors,o.status=e,a.loading=!1})},o.adicionaFase=function(){a.loading=!0,e.criaFase(o.idCampeonatoAtual).success(function(s){o.campeonatoFase={},o.messagesFase=null,o.fases=s.fases,$("#formModalFase").modal(),o.tituloModalFase="messages.campeonatoFase_create",o.novoItemFase=!0,o.messageFase="",o.formularioFase.$setPristine(),o.campeonatoFase.campeonatos_id=o.idCampeonatoAtual,a.loading=!1})},o.editaFase=function(s){a.loading=!0,e.editaFase(s).success(function(s){o.campeonatoFase=s.fase,o.campeonatoFase.data_inicio=new Date(s.fase.data_inicio),o.campeonatoFase.data_fim=new Date(s.fase.data_fim),o.messages=null,o.fases=s.fases,$("#formModalFase").modal(),o.tituloModalFase="messages.campeonatoFase_edit",o.novoItemFase=!1,o.messageFase="",o.formulario.$setPristine(),o.campeonatoFase.campeonatos_id=o.idCampeonatoAtual,a.loading=!1})},o.submitFase=function(){o.novoItemFase?o.salvaFase():o.atualizaFase()},o.salvaFase=function(){e.salvaFase(o.campeonatoFase).success(function(a){o.carregaFases(o.idCampeonatoAtual),$("#formModalFase").modal("hide")}).error(function(s,e){o.messageFase=s.message,o.status=e,a.loading=!1})},o.atualizaFase=function(){a.loading=!0,e.updateFase(o.campeonatoFase).success(function(a){o.carregaFases(o.idCampeonatoAtual),$("#formModalFase").modal("hide")}).error(function(s,e){o.messageFase=s.message,a.loading=!1,o.status=e})},o.excluiFase=function(s){a.loading=!0,e.destroyFase(s).success(function(s){o.carregaFases(o.idCampeonatoAtual),a.loading=!1}).error(function(s,e){o.message=s.errors,o.status=e,a.loading=!1})},o.detalhesFase=function(a,s){o.idFaseAtual=a,o.descricaoFase=s,o.abrePontuacaoFase(),o.abreFaseGrupo(),$("#formModalDetalhesFase").modal()},o.abrePontuacaoFase=function(){o.pontuacaoRegra={},o.carregaPontuacao(o.idFaseAtual),o.pontuacaoRegra.campeonato_fases_id=o.idFaseAtual},o.abreFaseGrupo=function(){o.faseGrupo={},o.carregaGrupos(o.idFaseAtual),o.faseGrupo.campeonato_fases_id=o.idFaseAtual},o.salvaPontuacao=function(){a.loading=!0,e.salvaPontuacao(o.pontuacaoRegra).success(function(s){o.carregaPontuacao(o.idFaseAtual),a.loading=!1}).error(function(s,e){o.messagePontuacao=s.message,o.status=e,a.loading=!1})},o.deletePontuacao=function(s){a.loading=!0,e.destroyPontuacao(s).success(function(s){o.carregaPontuacao(o.idFaseAtual),a.loading=!1}).error(function(s,e){o.messagePontuacao=s.errors,o.status=e,a.loading=!1})},o.salvaGrupos=function(){a.loading=!0,e.salvaGrupos(o.faseGrupo).success(function(s){o.carregaGrupos(o.idFaseAtual),a.loading=!1}).error(function(s,e){o.messageGrupo=s.message,o.status=e,a.loading=!1})},o.iniciaFase=function(){alert("iniciar fase")},o.encerraFase=function(){alert("encerrar fase")},o.carregaPontuacao=function(s){a.loading=!0,e.pontuacaoFase(s).success(function(s){o.pontuacaoRegras=s,o.messagePontuacao="",a.loading=!1})},o.deleteGrupos=function(){a.loading=!0,e.destroyGrupos(o.idFaseAtual).success(function(s){o.carregaGrupos(o.idFaseAtual),a.loading=!1}).error(function(s,e){o.messageGrupo=s.message,o.status=e,a.loading=!1})},o.carregaGrupos=function(s){a.loading=!0,e.faseGrupo(s).success(function(s){o.faseGrupos=s,o.messageGrupo="",a.loading=!1})},o.carregaAdministradores=function(s){a.loading=!0,e.getAdministradores(s).success(function(s){o.campeonatoAdministradores=s,a.loading=!1})},o.carregaUsuarios=function(s){a.loading=!0,e.getUsuarios(s).success(function(s){o.campeonatoUsuarios=s,a.loading=!1})},o.carregaFases=function(s){a.loading=!0,e.getFases(s).success(function(s){o.campeonatoFases=s,a.loading=!1})},o.exibirRegrasCampeonato=function(o){e.getInformacoes(o).success(function(o){bootbox.dialog({message:o.detalhes,title:o.descricao})}).error(function(o){})}}]),AplicacaoLiga.controller("CampeonatoFrontController",["$scope","$rootScope","$filter","Campeonato","$state","$modal",function(o,a,s,e,n,i){o.rodada_atual=[],o.partidasDaRodada=[],o.carregaFases=function(s){a.loading=!0,e.getFases(s).success(function(s){o.campeonatoFases=s,a.loading=!1,o.indice_fase=-1,o.exibeProximaFase()})},o.carregaGrupos=function(s){a.loading=!0,e.faseGrupo(s).success(function(s){o.gruposDaFase=s,a.loading=!1,o.inicializaRodadas(s)})};var t=7;o.carregaFases(t),o.exibeFaseAnterior=function(){o.indice_fase>0&&(o.indice_fase--,o.fase_atual=o.campeonatoFases[o.indice_fase],o.carregaGrupos(o.fase_atual.id))},o.exibeProximaFase=function(){o.indice_fase<o.campeonatoFases.length-1&&(o.indice_fase++,o.fase_atual=o.campeonatoFases[o.indice_fase],o.carregaGrupos(o.fase_atual.id))},o.inicializaRodadas=function(a){var s=0;angular.forEach(a,function(a){o.rodada_atual.push(1),o.carregaJogosDaRodada(s,a.id),s++,o.rodada_maxima=Object.keys(a.rodadas).length})},o.exibeRodadaAnterior=function(a,s){o.rodada_atual[a]>1&&(o.rodada_atual[a]--,o.carregaJogosDaRodada(a,s))},o.exibeProximaRodada=function(a,s){o.rodada_atual[a]<o.rodada_maxima&&(o.rodada_atual[a]++,o.carregaJogosDaRodada(a,s))},o.carregaJogosDaRodada=function(s,n){a.loading=!0;var i=o.rodada_atual[s];e.partidasPorRodada(i,n).success(function(e){o.partidasDaRodada[s]=e,a.loading=!1})}}]),AplicacaoLiga.controller("CampeonatoTipoController",["$scope","$rootScope","CampeonatoTipo",function(o,a,s){o.campeonatoTipo={},a.loading=!0,s.get().success(function(s){o.campeonatoTipos=s,a.loading=!1}),o.create=function(){o.campeonatoTipo={},o.messages=null,$("#formModal").modal(),o.tituloModal="messages.campeonatoTipo_create",o.novoItem=!0,o.formulario.$setPristine()},o.edit=function(e){a.loading=!0,s.edit(e).success(function(s){o.campeonatoTipo=s,o.messages=null,$("#formModal").modal(),o.tituloModal="messages.campeonatoTipo_edit",o.novoItem=!1,o.formulario.$setPristine(),a.loading=!1})},o.submit=function(){o.novoItem?this.save():this.update()},o.save=function(){s.save(o.campeonatoTipo).success(function(e){s.get().success(function(s){o.campeonatoTipos=s,a.loading=!1}),$("#formModal").modal("hide"),a.loading=!1}).error(function(a,s){o.messages=a.errors,o.status=s})},o.update=function(){a.loading=!0,s.update(o.campeonatoTipo).success(function(e){s.get().success(function(s){o.campeonatoTipos=s,a.loading=!1}),$("#formModal").modal("hide"),a.loading=!1}).error(function(s,e){o.message=s.errors,o.status=e,a.loading=!1})},o["delete"]=function(a){$("#confirmaModal").modal(),o.mensagemModal="messages.confirma_exclusao",o.idRegistro=a},o.confirmacaoModal=function(e){a.loading=!0,s.destroy(e).success(function(e){s.get().success(function(s){o.campeonatoTipos=s,a.loading=!1}),$("#confirmaModal").modal("hide"),a.loading=!1})}}]),function(){"use strict";angular.module("aplicacaoLiga").controller("CriarCampeonatoController",["$scope","$rootScope","Campeonato","Plataforma","Jogo","CampeonatoTipo",function(o,a,s,e,n,i){o.items=["Pontos","Vitórias","Saldo de Gols","Gols Pró","Gols Contra","Confronto Direto"],o.barConfig={group:"foobar",animation:150,onSort:function(o){}},o.criteriosClassificacao={},o.campeonato={},o.$watch("campeonato.ida_volta",function(){o.campeonato.ida_volta||(o.campeonato.fora_casa={})}),o.criaZonaClassificacao=function(){o.pontosZonaClassificacao=[];var a;for(a=0;a<o.campeonato.zona_classificacao;a+=1)o.pontosZonaClassificacao[a]=0},o.create=function(){a.loading=!0,e.get().success(function(s){o.plataformas=s,o.campeonato={},o.messages=null,a.loading=!1})},o.carregaJogosDaPlataforma=function(){a.loading=!0,e.getJogos(o.campeonato.plataformas_id).success(function(s){o.jogos=s,o.jogos.length>0&&(o.campeonato.jogos_id=o.jogos[0].id,o.carregaTiposDeCampeonatoDoJogo()),o.messages=null,a.loading=!1})},o.carregaTiposDeCampeonatoDoJogo=function(){a.loading=!0,n.getTiposDeCampeonato(o.campeonato.jogos_id).success(function(s){o.campeonatoTipos=s,o.campeonatoTipos.length>0&&(o.campeonato.campeonato_tipos_id=o.campeonatoTipos[0].id,o.carregaDetalhesCampeonato()),o.messages=null,a.loading=!1})},o.carregaDetalhesCampeonato=function(){a.loading=!0,i.edit(o.campeonato.campeonato_tipos_id).success(function(s){o.templateDetalhes=s.arquivo_detalhes,o.messages=null,a.loading=!1}),a.loading=!1},o.salvarCampeonato=function(){}}])}(),AplicacaoLiga.controller("JogoController",["$scope","$rootScope","Jogo",function(o,a,s){o.jogo={},o.files=[],a.loading=!0,o.$on("fileSelected",function(a,s){o.$apply(function(){o.files.push(s.file)})}),s.get().success(function(s){o.jogos=s,a.loading=!1}).error(function(s){o.message=s,a.loading=!1}),o.create=function(){o.jogo={},o.messages=null,$("#formModal").modal(),o.tituloModal="messages.jogo_create",o.novoItem=!0,o.formulario.$setPristine()},o.edit=function(e){a.loading=!0,s.edit(e).success(function(s){o.jogo=s,o.messages=null,$("#formModal").modal(),o.tituloModal="messages.jogo_edit",o.novoItem=!1,o.formulario.$setPristine(),a.loading=!1})},o.submit=function(){o.novoItem?this.save():this.update()},o.save=function(){a.loading=!0,s.save(o.jogo,o.files[0]).success(function(e){s.get().success(function(s){o.jogos=s,a.loading=!1}).error(function(s){o.message=s,a.loading=!1}),$("#formModal").modal("hide"),o.files=[],a.loading=!1}).error(function(s,e){o.messages=s.errors,o.status=e,a.loading=!1})},o.update=function(){a.loading=!0,s.update(o.jogo,o.files[0]).success(function(e){s.get().success(function(s){o.jogos=s,a.loading=!1}),$("#formModal").modal("hide"),o.files=[],a.loading=!1}).error(function(s,e){o.message=s.errors,o.status=e,a.loading=!1})},o["delete"]=function(a){$("#confirmaModal").modal(),o.mensagemModal="messages.confirma_exclusao",o.idRegistro=a},o.confirmacaoModal=function(e){a.loading=!0,s.destroy(e).success(function(e){s.get().success(function(s){o.jogos=s,a.loading=!1}),$("#confirmaModal").modal("hide"),a.loading=!1})}}]),AplicacaoLiga.controller("MenuController",["$scope","$rootScope","Menu",function(o,a,s){o.menu={},a.loading=!0,s.get().success(function(s){o.menus=s,a.loading=!1}),o.create=function(){a.loading=!0,s.create().success(function(s){o.menu={},o.menuPais=s.menuPais,o.messages=null,$("#formModal").modal(),o.tituloModal="messages.menu_create",o.novoItem=!0,o.formulario.$setPristine(),a.loading=!1})},o.edit=function(e){a.loading=!0,s.edit(e).success(function(s){o.menu=s.menu,o.menuPais=s.menuPais,o.messages=null,$("#formModal").modal(),o.tituloModal="messages.menu_edit",o.novoItem=!1,o.formulario.$setPristine(),a.loading=!1})},o.submit=function(){o.novoItem?this.save():this.update()},o.save=function(){s.save(o.menu).success(function(e){s.get().success(function(s){o.menus=s,a.loading=!1}),$("#formModal").modal("hide"),a.loading=!1}).error(function(a,s){o.messages=a.errors,o.status=s})},o.update=function(){a.loading=!0,s.update(o.menu).success(function(e){s.get().success(function(s){o.menus=s,a.loading=!1}),$("#formModal").modal("hide"),a.loading=!1}).error(function(s,e){o.message=s.errors,o.status=e,a.loading=!1})},o["delete"]=function(a){$("#confirmaModal").modal(),o.mensagemModal="messages.confirma_exclusao",o.idRegistro=a},o.confirmacaoModal=function(e){a.loading=!0,s.destroy(e).success(function(e){s.get().success(function(s){o.menus=s,a.loading=!1}),$("#confirmaModal").modal("hide"),a.loading=!1})}}]),AplicacaoLiga.controller("PartidaController",["$scope","$rootScope","$filter","Campeonato","Usuario","Partida","$state","$modal","$timeout",function(o,a,s,e,n,i,t,r,c){o.campeonato={},o.exibeDetalhes=!1,o.files=[],o.$on("fileSelected",function(a,s){o.$apply(function(){o.files.push(s.file)})}),o.carregaPartidas=function(s){a.loading=!0,n.getPartidas(s).success(function(s){o.partidas=s,a.loading=!1})},o.salvarPlacar=function(s){a.loading=!0,s.usuarioLogado=a.usuarioLogado,i.salvarPlacar(s).success(function(){o.carregaPartidas(a.usuarioLogado),a.loading=!1}).error(function(o){console.log(o.errors),a.loading=!1})},o.confirmarPlacar=function(s){a.loading=!0;var e={};e.id_partida=s,e.usuarioLogado=a.usuarioLogado,i.confirmarPlacar(e).success(function(){o.carregaPartidas(a.usuarioLogado),a.loading=!1}).error(function(o){console.log(o.errors),a.loading=!1})},o.contestarPlacar=function(s){o.contestacao_resultado={},o.contestacao_resultado.partidas_id=s,o.contestacao_resultado.usuario_partidas_id=a.usuarioLogado,$("#formModal").modal(),o.tituloModal="messages.partida_contestar",o.formulario.$setPristine()},o.salvarContestacao=function(){console.log(o.contestacao_resultado),i.contestarResultado(o.contestacao_resultado,o.files[0]).success(function(s){o.carregaPartidas(a.usuarioLogado),$("#formModal").modal("hide"),o.files=[],a.loading=!1}).error(function(s,e){o.messages=s.errors,o.status=e,a.loading=!1})},o.exibeDataLimite=function(o){return dataLimite=new Date(o),s("date")(dataLimite,"dd/MM/yyyy HH:mm")}}]),AplicacaoLiga.controller("PermissaoController",["$scope","$rootScope","Permissao","UsuarioTipo","Menu",function(o,a,s,e,n){o.permissao={},a.loading=!0,e.get().success(function(s){o.usuarioTipos=s,n.getTree().success(function(s){o.menus=s,a.loading=!1}),a.loading=!1}),o.getPermissoes=function(){s.get(o.permissao.usuario_tipos_id).success(function(s){o.permissoes=[],o.permissao.lista={},angular.forEach(s,function(a){o.permissoes.push(a.menu_id),o.permissao.lista[a.menu_id]=!0}),a.loading=!1})},o.save=function(){s.save(o.permissao).success(function(e){s.get(o.permissao.usuario_tipos_id).success(function(s){o.permissoes=[],o.permissao.lista={},angular.forEach(s,function(a){o.permissoes.push(a.menu_id),o.permissao.lista[a.menu_id]=!0}),a.loading=!1}),a.loading=!1}).error(function(a,s){o.messages=a.errors,o.status=s})},o.cancel=function(){o.getPermissoes()}}]),AplicacaoLiga.controller("PlataformaController",["$scope","$rootScope","Plataforma",function(o,a,s){o.plataforma={},o.files=[],o.$on("fileSelected",function(a,s){o.$apply(function(){o.files.push(s.file)})}),a.loading=!0,s.get().success(function(s){o.plataformas=s,a.loading=!1}).error(function(s){o.message=s,a.loading=!1}),o.create=function(){o.plataforma={},o.messages=null,$("#formModal").modal(),o.tituloModal="messages.plataforma_create",o.novoItem=!0,o.formulario.$setPristine()},o.edit=function(e){a.loading=!0,s.edit(e).success(function(s){o.plataforma=s,o.messages=null,$("#formModal").modal(),o.tituloModal="messages.plataforma_edit",o.novoItem=!1,o.formulario.$setPristine(),a.loading=!1})},o.submit=function(){o.novoItem?this.save():this.update()},o.save=function(){a.loading=!0,s.save(o.plataforma,o.files[0]).success(function(e){s.get().success(function(s){o.plataformas=s,a.loading=!1}).error(function(s){o.message=s,a.loading=!1}),$("#formModal").modal("hide"),o.files=[],a.loading=!1}).error(function(s,e){o.messages=s.errors,o.status=e,a.loading=!1})},o.update=function(){a.loading=!0,s.update(o.plataforma,o.files[0]).success(function(e){s.get().success(function(s){o.plataformas=s,a.loading=!1}),$("#formModal").modal("hide"),o.files=[],a.loading=!1}).error(function(s,e){o.message=s.errors,o.status=e,a.loading=!1})},o["delete"]=function(a){$("#confirmaModal").modal(),o.mensagemModal="messages.confirma_exclusao",o.idRegistro=a},o.confirmacaoModal=function(e){a.loading=!0,s.destroy(e).success(function(e){s.get().success(function(s){o.plataformas=s,a.loading=!1}),$("#confirmaModal").modal("hide"),a.loading=!1})}}]),AplicacaoLiga.controller("ProfileController",["$rootScope","$scope","$filter","Usuario","UserPlataforma","Plataforma","Campeonato","CampeonatoUsuario",function(o,a,s,e,n,t,r,c){a.usuario={},a.exibeFormulario=!1,a.exibeFormularioPerfil=!1,a.exibeFormularioImagem=!1,a.files=[],e.show(o.usuarioLogado).success(function(o){a.usuario=o,a.carregaDadosUsuario(a.usuario.id)}).error(function(o,a){}),a.$on("fileSelected",function(o,s){a.$apply(function(){a.files.push(s.file)})}),a.abreFormularioGamertag=function(){a.exibeFormulario=!a.exibeFormulario},a.abreFormularioPerfil=function(){a.exibeFormularioPerfil=!0},a.abreFormularioImagemPerfil=function(){a.exibeFormularioImagem=!0},a.getPlataformasDoUsuario=function(){a.userPlataformas={},n.getPlataformasDoUsuario(a.usuario.id).success(function(o){a.userPlataformas=o}).error(function(o){})},a.getPlataformas=function(){a.plataformas={},a.userPlataforma={},t.get().success(function(o){a.plataformas=o,a.userPlataforma.users_id=a.usuario.id}).error(function(o){})},a.salvaUserPlataforma=function(){n.save(a.userPlataforma).success(function(o){a.carregaDadosUsuario(a.usuario.id),a.exibeFormulario=!1}).error(function(o,s){a.messagePontuacao=o.message,a.status=s})},a.excluiUserPlataforma=function(o){var e=s("translate"),i=e("messages.confirma_exclusao");bootbox.confirm(i,function(s){s&&n.destroy(o).success(function(o){a.carregaDadosUsuario(a.usuario.id)}).error(function(o){})})},a.salvaPerfil=function(){e.update(a.usuario,a.files[0]).success(function(o){a.carregaDadosUsuario(a.usuario.id),a.exibeFormularioPerfil=!1,a.exibeFormularioImagem=!1,a.files=[]})},a.carregaDadosUsuario=function(o){e.show(o).success(function(o){a.usuario=o,a.getPlataformasDoUsuario(),a.getPlataformas(),a.getCampeonatosInscritos(),a.getCampeonatosDisponiveis()}).error(function(o,a){})},a.getCampeonatosInscritos=function(){a.userCampeonatosInscritos={},e.getCampeonatosInscritos(a.usuario.id).success(function(o){a.userCampeonatosInscritos=o}).error(function(o){})},a.getCampeonatosDisponiveis=function(){a.userCampeonatosDisponiveis={},e.getCampeonatosDisponiveis(a.usuario.id).success(function(o){a.userCampeonatosDisponiveis=o}).error(function(o){})},a.inscreverCampeonato=function(o){a.campeonatoSelecionado=null;var e=s("translate");r.getInformacoes(o).success(function(o){a.campeonatoSelecionado=o;var s=a.campeonatoSelecionado.detalhes;bootbox.dialog({message:s,title:e("messages.inscrever_titulo"),buttons:{danger:{label:e("fields.cancel"),className:"btn-default"},success:{label:e("messages.inscrever"),className:"btn-primary",callback:function(){a.confirmaInscricao(a.campeonatoSelecionado.id)}}}})}).error(function(o){})},a.confirmaInscricao=function(o){c.save(a.usuario.id,o).success(function(o){a.getCampeonatosInscritos(),a.getCampeonatosDisponiveis()}).error(function(o){})},a.sairCampeonato=function(o){var e=s("translate"),n=e("messages.confirma_desistir_campeonato");bootbox.confirm(n,function(s){s&&c.getUsuarios(o).success(function(o){for(i=0;i<o.length;i++)if(o[i].users_id==a.usuario.id){var s=o[i].id;c.destroy(s).success(function(o){a.getCampeonatosInscritos(),a.getCampeonatosDisponiveis()}).error(function(o){})}})})}}]),AplicacaoLiga.controller("TopNavController",["$rootScope","$scope","$translate","$location","Auth",function(o,a,s,e,n){a.mudaIdioma=function(o){s.use(o),idiomaBootBox="en_us"==o?"en":"br",bootbox.setLocale(idiomaBootBox)},a.logout=function(){n.logout()},a.mudaUsuarioLogado=function(){o.usuarioLogado=a.usuarioLogado,e.path("/")}}]),AplicacaoLiga.controller("UsuarioController",["$scope","$rootScope","Usuario","UsuarioTipo",function(o,a,s,e){o.usuario={},a.loading=!0,s.get().success(function(s){o.usuarios=s,a.loading=!1}),o.create=function(){a.loading=!0,e.get().success(function(s){o.usuario={},o.usuarioTipos=s,o.messages=null,$("#formModal").modal(),o.tituloModal="messages.usuario_create",o.novoItem=!0,o.formulario.$setPristine(),a.loading=!1})},o.edit=function(e){a.loading=!0,s.edit(e).success(function(s){o.usuario=s.usuario,o.usuarioTipos=s.usuarioTipos,o.messages=null,$("#formModal").modal(),o.tituloModal="messages.usuario_edit",o.novoItem=!1,o.formulario.$setPristine(),a.loading=!1})},o.submit=function(){o.novoItem?this.save():this.update()},o.save=function(){a.loading=!0,s.save(o.usuario).success(function(e){s.get().success(function(s){o.usuarios=s,a.loading=!1}),$("#formModal").modal("hide"),a.loading=!1}).error(function(s,e){o.messages=s.errors,o.status=e,a.loading=!1})},o.update=function(){a.loading=!0,s.update(o.usuario).success(function(e){s.get().success(function(s){o.usuarios=s,a.loading=!1}),$("#formModal").modal("hide"),a.loading=!1}).error(function(s,e){o.message=s.errors,o.status=e,a.loading=!1})},o["delete"]=function(a){$("#confirmaModal").modal(),o.mensagemModal="messages.confirma_exclusao",o.idRegistro=a},o.confirmacaoModal=function(e){a.loading=!0,s.destroy(e).success(function(e){s.get().success(function(s){o.usuarios=s,a.loading=!1}),$("#confirmaModal").modal("hide"),a.loading=!1})}}]),AplicacaoLiga.controller("UsuarioTipoController",["$scope","$rootScope","UsuarioTipo",function(o,a,s){o.usuarioTipo={},a.loading=!0,s.get().success(function(s){o.usuarioTipos=s,a.loading=!1}),o.create=function(){o.usuarioTipo={},o.messages=null,$("#formModal").modal(),o.tituloModal="messages.usuarioTipo_create",o.novoItem=!0,o.formulario.$setPristine()},o.edit=function(e){a.loading=!0,s.edit(e).success(function(s){o.usuarioTipo=s,o.messages=null,$("#formModal").modal(),o.tituloModal="messages.usuarioTipo_edit",o.novoItem=!1,o.formulario.$setPristine(),a.loading=!1})},o.submit=function(){o.novoItem?this.save():this.update()},o.save=function(){a.loading=!0,s.save(o.usuarioTipo).success(function(e){s.get().success(function(s){o.usuarioTipos=s,a.loading=!1}),$("#formModal").modal("hide"),a.loading=!1}).error(function(s,e){o.messages=s.errors,o.status=e,a.loading=!1})},o.update=function(){a.loading=!0,s.update(o.usuarioTipo).success(function(e){s.get().success(function(s){o.usuarioTipos=s,a.loading=!1}),$("#formModal").modal("hide"),a.loading=!1}).error(function(s,e){o.message=s.errors,o.status=e,a.loading=!1})},o["delete"]=function(a){$("#confirmaModal").modal(),o.mensagemModal="messages.confirma_exclusao",o.idRegistro=a},o.confirmacaoModal=function(e){a.loading=!0,s.destroy(e).success(function(e){s.get().success(function(s){o.usuarioTipos=s,a.loading=!1}),$("#confirmaModal").modal("hide"),a.loading=!1})}}]);
